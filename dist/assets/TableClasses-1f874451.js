import{_ as m,k as g,r as w,o as r,c,b as e,m as d,p as x,v as f,F as y,f as b,g as u,t as n,a as p}from"./index-8845255c.js";const C={data(){return{isLoading:!1,searchQuery:"",selectedNiveau:"",selectedClasse:"",eleves:[]}},computed:{filteredEleves(){let o=this.eleves;if(this.searchQuery){const s=this.searchQuery.toLowerCase();o=o.filter(a=>a.nom.toLowerCase().includes(s)||a.prenom.toLowerCase().includes(s)||a.code.toLowerCase().includes(s))}return this.selectedClasse&&(o=o.filter(s=>s.classe.id===this.selectedClasse)),this.selectedNiveau&&(o=o.filter(s=>s.niveau===this.selectedNiveau)),o}},methods:{formatDate(o){const s={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(o).toLocaleDateString("en-GB",s)},async fetchEleves(){try{this.isLoading=!0;const o=await g.get("/administratif/eleves");this.eleves=o.data}catch(o){console.error("Error fetching eleves:",o)}finally{this.isLoading=!1}},async editEleve(o){},async deleteEleve(o){}},async mounted(){await this.fetchEleves()},watch:{selectedClasse:"filteredEleves",selectedNiveau:"filteredEleves"}},E={class:"antialiased bg-gray-100 text-gray-600 my-16 px-4"},k={class:"flex flex-col justify-center h-full"},L={class:"w-full max-w-6xlxl mx-auto bg-white shadow-lg rounded-sm border border-gray-200"},N=e("header",{class:"px-5 py-4 border-b border-gray-100"},[e("h2",{class:"font-semibold text-gray-800"},"Gestion des classes")],-1),D={class:"p-3"},B={class:"flex items-center justify-between mb-4"},A={class:"flex space-x-4"},Q=e("option",{value:""},"Classe",-1),V=[Q],j=e("option",{value:""},"Niveau",-1),F=e("option",{value:"BAC"},"BAC1",-1),S=e("option",{value:"BAC2"},"BAC2",-1),T=e("option",{value:"CA1"},"CP",-1),U=[j,F,S,T],G={class:"overflow-x-auto"},M={key:0,class:"table-auto w-full"},I=e("thead",{class:"text-xs font-semibold uppercase text-gray-400 bg-gray-50"},[e("tr",null,[e("th",{class:"p-4 whitespace-nowrap"},[e("div",{class:"font-semibold text-left"},"Eleve")]),e("th",{class:"p-4 whitespace-nowrap"},[e("div",{class:"font-semibold text-left"},"Code")]),e("th",{class:"p-4 whitespace-nowrap"},[e("div",{class:"font-semibold text-left"},"Tuteur")]),e("th",{class:"p-4 whitespace-nowrap"},[e("div",{class:"font-semibold text-left"},"Date naissance")]),e("th",{class:"p-4 whitespace-nowrap"},[e("div",{class:"font-semibold text-left"},"Date inscription")]),e("th",{class:"p-4 whitespace-nowrap"},[e("div",{class:"font-semibold text-left"},"Actions")])])],-1),P={class:"text-sm divide-y divide-gray-100"},q={class:"p-4 whitespace-nowrap"},z={class:"font-medium text-gray-800"},H={class:"p-4 whitespace-nowrap"},J={class:"text-left"},K={class:"p-4 whitespace-nowrap"},O={class:"text-left"},R={class:"p-4 whitespace-nowrap"},W={class:"text-left"},X={class:"p-4 whitespace-nowrap"},Y={class:"text-left"},Z={class:"p-4 whitespace-nowrap"},$={class:"flex flex-col items-center space-y-2"},ee=["onClick"],se=["onClick"],te={colspan:"3",class:"p-8 whitespace-nowrap text-lg font-semibold text-right bg-gray-50"},oe={class:"text-green-500 text-lg mx-2"},le={key:1,class:"flex justify-center items-center h-32"},ie=e("div",{class:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin"},null,-1),ne=[ie];function ae(o,s,a,re,i,l){const h=w("font-awesome-icon");return r(),c("section",E,[e("div",k,[e("div",L,[N,e("div",D,[e("div",B,[e("div",A,[d(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>i.searchQuery=t),placeholder:"Search",class:"block ww-48 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[x,i.searchQuery]]),d(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>i.selectedClasse=t),onChange:s[2]||(s[2]=(...t)=>l.filteredEleves&&l.filteredEleves(...t)),class:"px-2 py-1 border rounded-md focus:outline-none"},V,544),[[f,i.selectedClasse]]),d(e("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>i.selectedNiveau=t),onChange:s[4]||(s[4]=(...t)=>l.filteredEleves&&l.filteredEleves(...t)),class:"px-2 py-1 border rounded-md focus:outline-none"},U,544),[[f,i.selectedNiveau]])]),e("button",{onClick:s[5]||(s[5]=(...t)=>o.clearFilters&&o.clearFilters(...t)),class:"px-3 py-1 bg-gray-300 rounded-md hover:bg-gray-400 focus:outline-none"}," Clear Filters ")]),e("div",G,[i.isLoading?(r(),c("div",le,ne)):(r(),c("table",M,[I,e("tbody",P,[(r(!0),c(y,null,b(l.filteredEleves,(t,_)=>(r(),c("tr",{key:_},[e("td",q,[e("div",z,n(t.nom)+" "+n(t.prenom),1)]),e("td",H,[e("div",J,n(t.code),1)]),e("td",K,[e("div",O,n(t.famille.nom_complet),1)]),e("td",R,[e("div",W,n(t.date_naissance),1)]),e("td",X,[e("div",Y,n(l.formatDate(t.created_at)),1)]),e("td",Z,[e("div",$,[e("button",{onClick:v=>l.editEleve(t),class:"flex items-center justify-center px-4 py-2 rounded-md text-green-500 bg-white hover:bg-green-50 transition duration-300 focus:outline-none focus:ring focus:ring-green-200"},[p(h,{icon:["fas","dollar-sign"],class:"h-5 w-5 mr-1"}),u(" Edit ")],8,ee),e("button",{onClick:v=>l.deleteEleve(t.id),class:"flex items-center justify-center px-4 py-2 rounded-md text-blue-500 bg-white hover:bg-green-50 transition duration-300 focus:outline-none focus:ring focus:ring-green-200"},[p(h,{icon:["fas","dollar-sign"],class:"h-5 w-5 mr-1"}),u(" Delete ")],8,se)])])]))),128)),e("tr",null,[e("td",te,[u(" Total Eleves: "),e("span",oe,n(l.filteredEleves.length),1)])])])]))])])])])])}const de=m(C,[["render",ae]]);export{de as default};
